{% extends "base.html" %}

{% load static %}
{% load humanize %}
{% load crispy_forms_tags %}

{% block content %}

    <div class="container">
        <div class="row justify-content-md-center my-4" style="color: #083B58FFFF;">
            <div class="col col-sm text-left font-italic" style="font-size: smaller;">
                <p>Inicio > Perfil</p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row justify-content-betweencontainer-sm my-4" style="background-color:white;">

            <div class="container">
                <div class="row">
                    <div class="col col-lg my-4 offset-sm-1">
                        <h4>Datos generales</h4>
                    </div>
                    <div class="col col-lg my-4 text-right" style="margin-right: 50px">
                        <a href="{% url "profile-redirect" %}" class="btn btn-secondary btn-sm" role="button"
                           aria-pressed="true">Actualizar datos generales</a>
                    </div>
                </div>
            </div>
            <div class="col col-lg my-4">
                <div class="container">
                    <div class="row gutters-sm">
                        <div class="col-md-4 mb-3">
                            <div class="card border-0">
                                <div class="card-body">
                                    <div class="d-flex flex-column align-items-center text-center">
                                        {% if profile.profile_picture.url == None %}
                                        <img
                                            src="{% static "images/default.jpg" %}" alt="Student" class="rounded-circle"
                                            width="150" height="150" />
                                        {% else %}
                                        <img
                                            src="{{ profile.profile_picture.url }}" alt="Student" class="rounded-circle"
                                            width="150" height="150" style="overflow: hidden"/>
                                        {%  endif %}
                                        <div class="mt-3">
                                            <h4>{{ profile.lastname_first|title }} {{ profile.lastname_second|title }}<br>{{ profile.name|title }}
                                            </h4>
                                            <p class="text-muted font-size-sm mb-1">{{ profile.curp|upper }}</p>
                                            <p class="text-secondary">{{ request.user|upper }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Fecha de Nacimiento</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.birthday }}</div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Lugar de Nacimiento</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.birth_place }}</div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Nacionalidad</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.nationality|title }}</div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Pasaporte</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.passport|upper }}</div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Ocupación</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.occupation|title }} </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">INE</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.ine }}</div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Estado civil</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.marital_status|title }}</div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-3"><h6 class="mb-0">Género</h6></div>
                                        <div class="col-sm-9 text-secondary"> {{ profile.gender|title }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="row">
                    <div class="col col-lg offset-sm-1">
                        <h4>Dirección</h4>
                    </div>
                    <div class="col col-lg text-right" style="margin-right: 50px">
                        <a href="{% url "profile-address-redirect" %}" class="btn btn-secondary btn-sm" role="button"
                           aria-pressed="true">Actualizar dirección</a>
                    </div>
                </div>
            </div>

            <div class="col col-lg my-4">
                <div class="container">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3"><h6 class="mb-0">Calle</h6></div>
                                <div class="col-sm-9 text-secondary"> {{ address.street|title }}</div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3"><h6 class="mb-0">Número exterior</h6></div>
                                <div class="col-sm-3 text-secondary"> {{ address.exterior_number }}</div>
                                <div class="col-sm-3"><h6 class="mb-0">Número interior</h6></div>
                                <div class="col-sm-3 text-secondary"> {{ address.interior_number|default_if_none:"" }}</div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3"><h6 class="mb-0">Colonia</h6></div>
                                <div class="col-sm-3 text-secondary"> {{ address.suburb|title }}</div>
                                <div class="col-sm-3"><h6 class="mb-0">Código postal</h6></div>
                                <div class="col-sm-3 text-secondary"> {{ address.postal_code }} </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3"><h6 class="mb-0">Localidad</h6></div>
                                <div class="col-sm-9 text-secondary"> {{ address.locality|title }}</div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3"><h6 class="mb-0">Municipio o delegación</h6></div>
                                <div class="col-sm-9 text-secondary"> {{ address.municipality|title }}</div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3"><h6 class="mb-0">Estado</h6></div>
                                <div class="col-sm-9 text-secondary"> {{ address.state|title }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="row">
                    <div class="col col-lg offset-sm-1">
                        <h4>Datos de contacto</h4>
                    </div>
                    <div class="col col-lg text-right" style="margin-right: 50px">
                <a href="{% url "profile-contact-redirect" %}" class="btn btn-secondary btn-sm" role="button"
                   aria-pressed="true">Actualizar datos de contacto</a>
                    </div>
                </div>
            </div>
        <div class="col col-lg my-4">
            <div class="container">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Teléfono fijo</h6></div>
                            <div class="col-sm-3 text-secondary"> {{ contact.phone }}</div>
                            <div class="col-sm-3"><h6 class="mb-0">Celular</h6></div>
                            <div class="col-sm-3 text-secondary"> {{ contact.mobile }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Correo electrónico</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ contact.email|lower }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            <div class="container">
                <div class="row">
                    <div class="col col-lg offset-sm-1">
                        <h4>Información bancaría</h4>
                    </div>
                    <div class="col col-lg text-right" style="margin-right: 50px">
                        <a href="{% url "profile-bank-redirect" %}" class="btn btn-secondary btn-sm" role="button"
                           aria-pressed="true">Actualizar información bancaría</a>
                    </div>
                </div>
            </div>
        <div class="col col-lg my-4">
            <div class="container">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Nombre del banco</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ bank.bank_name|upper }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Número de cuenta</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ bank.account_number }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">CLABE</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ bank.clabe }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            <div class="container">
                <div class="row">
                    <div class="col col-lg offset-sm-1">
                        <h4>Contacto de emergencia</h4>
                    </div>
                    <div class="col col-lg text-right" style="margin-right: 50px">
                        <a href="{% url "profile-emergency-contact-redirect" %}" class="btn btn-secondary btn-sm" role="button"
                           aria-pressed="true">Actualizar contacto de emergencia</a>
                    </div>
                </div>
            </div>
        <div class="col col-lg my-4">
            <div class="container">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Nombre</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ emergency.name|title }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Teléfono fijo</h6></div>
                            <div class="col-sm-3 text-secondary"> {{ emergency.phone }}</div>
                            <div class="col-sm-3"><h6 class="mb-0">Celular</h6></div>
                            <div class="col-sm-3 text-secondary"> {{ emergency.mobile }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Dirección</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ emergency.address|title }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Ciudad y pais</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ emergency.location|title }}</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3"><h6 class="mb-0">Correo electrónico</h6></div>
                            <div class="col-sm-9 text-secondary"> {{ emergency.email|lower }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </div>
    </div>
{% endblock %}
